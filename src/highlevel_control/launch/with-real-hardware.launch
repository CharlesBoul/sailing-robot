<launch>
    <!--
    General test file to launch all existing nodes to talk to real hardware
    -->

    <!--
    Parameters
    -->

    <rosparam file="$(find highlevel_control)/launch/parameters/default.yaml" command="load"/>

    <!--
    Nodes
    -->
    <!-- These are currently dummies, need to be replaced with real nodes -->
    <node name="publish_heading" pkg='sensors' type="publish_heading"/>
    <node name="publish_position" pkg='sensors' type="gps"/>
    <node name="publish_waypoint" pkg='highlevel_control' type="dummy_wp"/>
    <node name = "heading_control" pkg="highlevel_control" type = "heading_control" />
    <node name = "tack" pkg="highlevel_control" type = "tack" />
    <node name = "pid_rudder" pkg="lowlevel_control" type = "pid_rudder" />
    <node name = "pid_sail" pkg="lowlevel_control" type = "pid_sail" />

    <!--
    Launch Bridge to Arduino
    -->
  <node pkg="rosserial_python" type="serial_node.py" name="serial_node">
    <param name="port" value="/dev/ttyACM0"/>
    <param name="baud" value="9600"/>
  </node>
  <node pkg="rosserial_python" type="serial_node.py" name="serial_node2">
    <param name="port" value="/dev/ttyACM0"/>
    <param name="baud" value="9600"/>
  </node>

</launch>
